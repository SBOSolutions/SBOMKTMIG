<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">

    <t t-name="StockMatrix" t-inherit="product_matrix.matrix" t-inherit-mode="extension" owl="1">
        <xpath expr="//div/table" position="replace">
            <h1>Stock : <t t-esc='stock_display'/></h1>
            <table class="o_matrix_input_table o_product_variant_matrix table table-sm table-striped table-bordered">
                <thead>
                    <tr>
                        <t t-foreach="header" t-as="column_header">
                            <th t-attf-class="o_matrix_title_header {{column_header_first?'text-left':'text-center'}}">
                                <span t-esc="column_header.name"/>
                                <t t-call="product_matrix.extra_price">
                                    <t t-set="price" t-value="column_header.price"/>
                                </t>
                            </th>
                        </t>
                    </tr>
                </thead>
                <tbody>
                    <tr t-foreach="rows" t-as="row">
                        <t t-foreach="row" t-as="cell">
                            <td t-if="cell.name" class="text-left">
                                <strong t-esc="cell.name"/>
                                <t t-call="product_matrix.extra_price">
                                    <t t-set="price" t-value="cell.price"/>
                                </t>
                            </td>
                            <td t-else="">
                                <div t-if="cell.is_possible_combination" class="input-group">
                                    <t t-if="stock_display == 'available' ">
                                        <label>Stock disponible :
                                            <input 
                                            type="text" 
                                            readonly="1"
                                            t-att-value="cell.qty_available"
                                            class="matrix_stock_input"
                                            />
                                        </label>
                                    </t>
                                    <t t-if="stock_display == 'virtual' ">
                                        <label>Stock disponible :
                                            <input 
                                            type="text" 
                                            readonly="1"
                                            t-att-value="cell.virtual_available"
                                            class="matrix_stock_input"
                                            />
                                        </label>
                                    </t>
                                    <br />
                                    <br />
                                    <input id="peas" type="number"
                                    class="o_matrix_input"
                                    t-att-ptav_ids="cell.ptav_ids"
                                    t-att-value="cell.qty"/>
                                </div>
                                <span t-else="" class="o_matrix_cell o_matrix_text_muted o_matrix_nocontent_container"> Not available </span>
                            </td>
                        </t>
                    </tr>
                </tbody>
            </table>
        </xpath>
    </t>

</templates>
